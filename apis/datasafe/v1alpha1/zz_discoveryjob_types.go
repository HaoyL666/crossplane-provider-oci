/*
Copyright 2022 Upbound Inc.
*/

// Code generated by upjet. DO NOT EDIT.

package v1alpha1

import (
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
	"k8s.io/apimachinery/pkg/runtime/schema"

	v1 "github.com/crossplane/crossplane-runtime/apis/common/v1"
)

type DiscoveryJobInitParameters struct {

	// (Updatable) The OCID of the compartment where the discovery job resource should be created.
	// +crossplane:generate:reference:type=github.com/oracle/provider-oci/apis/identity/v1alpha1.Compartment
	CompartmentID *string `json:"compartmentId,omitempty" tf:"compartment_id,omitempty"`

	// Reference to a Compartment in identity to populate compartmentId.
	// +kubebuilder:validation:Optional
	CompartmentIDRef *v1.Reference `json:"compartmentIdRef,omitempty" tf:"-"`

	// Selector for a Compartment in identity to populate compartmentId.
	// +kubebuilder:validation:Optional
	CompartmentIDSelector *v1.Selector `json:"compartmentIdSelector,omitempty" tf:"-"`

	// Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see Resource Tags Example: {"Operations.CostCenter": "42"}
	// +mapType=granular
	DefinedTags map[string]*string `json:"definedTags,omitempty" tf:"defined_tags,omitempty"`

	// The type of the discovery job. It defines the job's scope. NEW identifies new sensitive columns in the target database that are not in the sensitive data model. DELETED identifies columns that are present in the sensitive data model but have been deleted from the target database. MODIFIED identifies columns that are present in the target database as well as the sensitive data model but some of their attributes have been modified. ALL covers all the above three scenarios and reports new, deleted and modified columns.
	DiscoveryType *string `json:"discoveryType,omitempty" tf:"discovery_type,omitempty"`

	// A user-friendly name for the discovery job. Does not have to be unique, and it is changeable. Avoid entering confidential information.
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see Resource Tags  Example: {"Department": "Finance"}
	// +mapType=granular
	FreeformTags map[string]*string `json:"freeformTags,omitempty" tf:"freeform_tags,omitempty"`

	// Indicates if the discovery job should identify potential application-level (non-dictionary) referential relationships between columns. Note that data discovery automatically identifies and adds database-level (dictionary-defined) relationships. This option helps identify application-level relationships that are not defined in the database dictionary, which in turn, helps identify additional sensitive columns and preserve referential integrity during data masking. It's disabled by default and should be used only if there is a need to identify application-level relationships.
	IsAppDefinedRelationDiscoveryEnabled *bool `json:"isAppDefinedRelationDiscoveryEnabled,omitempty" tf:"is_app_defined_relation_discovery_enabled,omitempty"`

	// Indicates if all the schemas should be scanned by the discovery job. If it is set to true, sensitive data is discovered in all schemas (except for schemas maintained by Oracle). If both attributes are not provided, the configuration from the sensitive data model is used.
	IsIncludeAllSchemas *bool `json:"isIncludeAllSchemas,omitempty" tf:"is_include_all_schemas,omitempty"`

	// Indicates if all the existing sensitive types should be used by the discovery job. If it's set to true, the sensitiveTypeIdsForDiscovery attribute is ignored and all sensitive types are used for data discovery. If both attributes are not provided, the configuration from the sensitive data model is used.
	IsIncludeAllSensitiveTypes *bool `json:"isIncludeAllSensitiveTypes,omitempty" tf:"is_include_all_sensitive_types,omitempty"`

	// Indicates if the discovery job should collect and store sample data values for the discovered columns. Sample data helps review the discovered columns and ensure that they actually contain sensitive data. As it collects original data from the target database, it's disabled by default and should be used only if it's acceptable to store sample data in Data Safe's repository in Oracle Cloud. Note that sample data values are not collected for columns with the following data types: LONG, LOB, RAW, XMLTYPE and BFILE.
	IsSampleDataCollectionEnabled *bool `json:"isSampleDataCollectionEnabled,omitempty" tf:"is_sample_data_collection_enabled,omitempty"`

	// The schemas to be scanned by the discovery job. If not provided, the schemasForDiscovery attribute of the sensitive data model is used to get the list of schemas.
	SchemasForDiscovery []*string `json:"schemasForDiscovery,omitempty" tf:"schemas_for_discovery,omitempty"`

	// The OCID of the sensitive data model.
	// +crossplane:generate:reference:type=github.com/oracle/provider-oci/apis/datasafe/v1alpha1.SensitiveDataModel
	// +crossplane:generate:reference:extractor=github.com/crossplane/upjet/pkg/resource.ExtractResourceID()
	SensitiveDataModelID *string `json:"sensitiveDataModelId,omitempty" tf:"sensitive_data_model_id,omitempty"`

	// Reference to a SensitiveDataModel in datasafe to populate sensitiveDataModelId.
	// +kubebuilder:validation:Optional
	SensitiveDataModelIDRef *v1.Reference `json:"sensitiveDataModelIdRef,omitempty" tf:"-"`

	// Selector for a SensitiveDataModel in datasafe to populate sensitiveDataModelId.
	// +kubebuilder:validation:Optional
	SensitiveDataModelIDSelector *v1.Selector `json:"sensitiveDataModelIdSelector,omitempty" tf:"-"`

	// The OCIDs of the sensitive type groups to be used by the discovery job. All the sensitive types present in sensitive type group will be used for discovery.
	SensitiveTypeGroupIdsForDiscovery []*string `json:"sensitiveTypeGroupIdsForDiscovery,omitempty" tf:"sensitive_type_group_ids_for_discovery,omitempty"`

	// The OCIDs of the sensitive types to be used by the discovery job. If not provided, the sensitiveTypeIdsForDiscovery attribute of the sensitive data model is used to get the list of sensitive types.
	SensitiveTypeIdsForDiscovery []*string `json:"sensitiveTypeIdsForDiscovery,omitempty" tf:"sensitive_type_ids_for_discovery,omitempty"`

	// The data discovery jobs will scan the tables specified here, including both schemas and tables. In the absence  of explicit input, the list of tables is obtained from the tablesForDiscovery attribute of the sensitive data model.
	TablesForDiscovery []TablesForDiscoveryInitParameters `json:"tablesForDiscovery,omitempty" tf:"tables_for_discovery,omitempty"`
}

type DiscoveryJobObservation struct {

	// (Updatable) The OCID of the compartment where the discovery job resource should be created.
	CompartmentID *string `json:"compartmentId,omitempty" tf:"compartment_id,omitempty"`

	// Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see Resource Tags Example: {"Operations.CostCenter": "42"}
	// +mapType=granular
	DefinedTags map[string]*string `json:"definedTags,omitempty" tf:"defined_tags,omitempty"`

	// The type of the discovery job. It defines the job's scope. NEW identifies new sensitive columns in the target database that are not in the sensitive data model. DELETED identifies columns that are present in the sensitive data model but have been deleted from the target database. MODIFIED identifies columns that are present in the target database as well as the sensitive data model but some of their attributes have been modified. ALL covers all the above three scenarios and reports new, deleted and modified columns.
	DiscoveryType *string `json:"discoveryType,omitempty" tf:"discovery_type,omitempty"`

	// A user-friendly name for the discovery job. Does not have to be unique, and it is changeable. Avoid entering confidential information.
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see Resource Tags  Example: {"Department": "Finance"}
	// +mapType=granular
	FreeformTags map[string]*string `json:"freeformTags,omitempty" tf:"freeform_tags,omitempty"`

	// The OCID of the discovery job.
	ID *string `json:"id,omitempty" tf:"id,omitempty"`

	// Indicates if the discovery job should identify potential application-level (non-dictionary) referential relationships between columns. Note that data discovery automatically identifies and adds database-level (dictionary-defined) relationships. This option helps identify application-level relationships that are not defined in the database dictionary, which in turn, helps identify additional sensitive columns and preserve referential integrity during data masking. It's disabled by default and should be used only if there is a need to identify application-level relationships.
	IsAppDefinedRelationDiscoveryEnabled *bool `json:"isAppDefinedRelationDiscoveryEnabled,omitempty" tf:"is_app_defined_relation_discovery_enabled,omitempty"`

	// Indicates if all the schemas should be scanned by the discovery job. If it is set to true, sensitive data is discovered in all schemas (except for schemas maintained by Oracle). If both attributes are not provided, the configuration from the sensitive data model is used.
	IsIncludeAllSchemas *bool `json:"isIncludeAllSchemas,omitempty" tf:"is_include_all_schemas,omitempty"`

	// Indicates if all the existing sensitive types should be used by the discovery job. If it's set to true, the sensitiveTypeIdsForDiscovery attribute is ignored and all sensitive types are used for data discovery. If both attributes are not provided, the configuration from the sensitive data model is used.
	IsIncludeAllSensitiveTypes *bool `json:"isIncludeAllSensitiveTypes,omitempty" tf:"is_include_all_sensitive_types,omitempty"`

	// Indicates if the discovery job should collect and store sample data values for the discovered columns. Sample data helps review the discovered columns and ensure that they actually contain sensitive data. As it collects original data from the target database, it's disabled by default and should be used only if it's acceptable to store sample data in Data Safe's repository in Oracle Cloud. Note that sample data values are not collected for columns with the following data types: LONG, LOB, RAW, XMLTYPE and BFILE.
	IsSampleDataCollectionEnabled *bool `json:"isSampleDataCollectionEnabled,omitempty" tf:"is_sample_data_collection_enabled,omitempty"`

	// The schemas to be scanned by the discovery job. If not provided, the schemasForDiscovery attribute of the sensitive data model is used to get the list of schemas.
	SchemasForDiscovery []*string `json:"schemasForDiscovery,omitempty" tf:"schemas_for_discovery,omitempty"`

	// The OCID of the sensitive data model.
	SensitiveDataModelID *string `json:"sensitiveDataModelId,omitempty" tf:"sensitive_data_model_id,omitempty"`

	// The OCIDs of the sensitive type groups to be used by the discovery job. All the sensitive types present in sensitive type group will be used for discovery.
	SensitiveTypeGroupIdsForDiscovery []*string `json:"sensitiveTypeGroupIdsForDiscovery,omitempty" tf:"sensitive_type_group_ids_for_discovery,omitempty"`

	// The OCIDs of the sensitive types to be used by the discovery job. If not provided, the sensitiveTypeIdsForDiscovery attribute of the sensitive data model is used to get the list of sensitive types.
	SensitiveTypeIdsForDiscovery []*string `json:"sensitiveTypeIdsForDiscovery,omitempty" tf:"sensitive_type_ids_for_discovery,omitempty"`

	// The current state of the discovery job.
	State *string `json:"state,omitempty" tf:"state,omitempty"`

	// System tags for this resource. Each key is predefined and scoped to a namespace. For more information, see Resource Tags. Example: {"orcl-cloud.free-tier-retained": "true"}
	// +mapType=granular
	SystemTags map[string]*string `json:"systemTags,omitempty" tf:"system_tags,omitempty"`

	// The data discovery jobs will scan the tables specified here, including both schemas and tables. In the absence  of explicit input, the list of tables is obtained from the tablesForDiscovery attribute of the sensitive data model.
	TablesForDiscovery []TablesForDiscoveryObservation `json:"tablesForDiscovery,omitempty" tf:"tables_for_discovery,omitempty"`

	// The OCID of the target database associated with the discovery job.
	TargetID *string `json:"targetId,omitempty" tf:"target_id,omitempty"`

	// The date and time the discovery job finished, in the format defined by RFC3339..
	TimeFinished *string `json:"timeFinished,omitempty" tf:"time_finished,omitempty"`

	// The date and time the discovery job started, in the format defined by RFC3339.
	TimeStarted *string `json:"timeStarted,omitempty" tf:"time_started,omitempty"`

	// The total number of columns scanned by the discovery job.
	TotalColumnsScanned *string `json:"totalColumnsScanned,omitempty" tf:"total_columns_scanned,omitempty"`

	// The total number of deleted sensitive columns identified by the discovery job.
	TotalDeletedSensitiveColumns *string `json:"totalDeletedSensitiveColumns,omitempty" tf:"total_deleted_sensitive_columns,omitempty"`

	// The total number of modified sensitive columns identified by the discovery job.
	TotalModifiedSensitiveColumns *string `json:"totalModifiedSensitiveColumns,omitempty" tf:"total_modified_sensitive_columns,omitempty"`

	// The total number of new sensitive columns identified by the discovery job.
	TotalNewSensitiveColumns *string `json:"totalNewSensitiveColumns,omitempty" tf:"total_new_sensitive_columns,omitempty"`

	// The total number of objects (tables and editioning views) scanned by the discovery job.
	TotalObjectsScanned *string `json:"totalObjectsScanned,omitempty" tf:"total_objects_scanned,omitempty"`

	// The total number of schemas scanned by the discovery job.
	TotalSchemasScanned *string `json:"totalSchemasScanned,omitempty" tf:"total_schemas_scanned,omitempty"`
}

type DiscoveryJobParameters struct {

	// (Updatable) The OCID of the compartment where the discovery job resource should be created.
	// +crossplane:generate:reference:type=github.com/oracle/provider-oci/apis/identity/v1alpha1.Compartment
	// +kubebuilder:validation:Optional
	CompartmentID *string `json:"compartmentId,omitempty" tf:"compartment_id,omitempty"`

	// Reference to a Compartment in identity to populate compartmentId.
	// +kubebuilder:validation:Optional
	CompartmentIDRef *v1.Reference `json:"compartmentIdRef,omitempty" tf:"-"`

	// Selector for a Compartment in identity to populate compartmentId.
	// +kubebuilder:validation:Optional
	CompartmentIDSelector *v1.Selector `json:"compartmentIdSelector,omitempty" tf:"-"`

	// Defined tags for this resource. Each key is predefined and scoped to a namespace. For more information, see Resource Tags Example: {"Operations.CostCenter": "42"}
	// +kubebuilder:validation:Optional
	// +mapType=granular
	DefinedTags map[string]*string `json:"definedTags,omitempty" tf:"defined_tags,omitempty"`

	// The type of the discovery job. It defines the job's scope. NEW identifies new sensitive columns in the target database that are not in the sensitive data model. DELETED identifies columns that are present in the sensitive data model but have been deleted from the target database. MODIFIED identifies columns that are present in the target database as well as the sensitive data model but some of their attributes have been modified. ALL covers all the above three scenarios and reports new, deleted and modified columns.
	// +kubebuilder:validation:Optional
	DiscoveryType *string `json:"discoveryType,omitempty" tf:"discovery_type,omitempty"`

	// A user-friendly name for the discovery job. Does not have to be unique, and it is changeable. Avoid entering confidential information.
	// +kubebuilder:validation:Optional
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// Free-form tags for this resource. Each tag is a simple key-value pair with no predefined name, type, or namespace. For more information, see Resource Tags  Example: {"Department": "Finance"}
	// +kubebuilder:validation:Optional
	// +mapType=granular
	FreeformTags map[string]*string `json:"freeformTags,omitempty" tf:"freeform_tags,omitempty"`

	// Indicates if the discovery job should identify potential application-level (non-dictionary) referential relationships between columns. Note that data discovery automatically identifies and adds database-level (dictionary-defined) relationships. This option helps identify application-level relationships that are not defined in the database dictionary, which in turn, helps identify additional sensitive columns and preserve referential integrity during data masking. It's disabled by default and should be used only if there is a need to identify application-level relationships.
	// +kubebuilder:validation:Optional
	IsAppDefinedRelationDiscoveryEnabled *bool `json:"isAppDefinedRelationDiscoveryEnabled,omitempty" tf:"is_app_defined_relation_discovery_enabled,omitempty"`

	// Indicates if all the schemas should be scanned by the discovery job. If it is set to true, sensitive data is discovered in all schemas (except for schemas maintained by Oracle). If both attributes are not provided, the configuration from the sensitive data model is used.
	// +kubebuilder:validation:Optional
	IsIncludeAllSchemas *bool `json:"isIncludeAllSchemas,omitempty" tf:"is_include_all_schemas,omitempty"`

	// Indicates if all the existing sensitive types should be used by the discovery job. If it's set to true, the sensitiveTypeIdsForDiscovery attribute is ignored and all sensitive types are used for data discovery. If both attributes are not provided, the configuration from the sensitive data model is used.
	// +kubebuilder:validation:Optional
	IsIncludeAllSensitiveTypes *bool `json:"isIncludeAllSensitiveTypes,omitempty" tf:"is_include_all_sensitive_types,omitempty"`

	// Indicates if the discovery job should collect and store sample data values for the discovered columns. Sample data helps review the discovered columns and ensure that they actually contain sensitive data. As it collects original data from the target database, it's disabled by default and should be used only if it's acceptable to store sample data in Data Safe's repository in Oracle Cloud. Note that sample data values are not collected for columns with the following data types: LONG, LOB, RAW, XMLTYPE and BFILE.
	// +kubebuilder:validation:Optional
	IsSampleDataCollectionEnabled *bool `json:"isSampleDataCollectionEnabled,omitempty" tf:"is_sample_data_collection_enabled,omitempty"`

	// The schemas to be scanned by the discovery job. If not provided, the schemasForDiscovery attribute of the sensitive data model is used to get the list of schemas.
	// +kubebuilder:validation:Optional
	SchemasForDiscovery []*string `json:"schemasForDiscovery,omitempty" tf:"schemas_for_discovery,omitempty"`

	// The OCID of the sensitive data model.
	// +crossplane:generate:reference:type=github.com/oracle/provider-oci/apis/datasafe/v1alpha1.SensitiveDataModel
	// +crossplane:generate:reference:extractor=github.com/crossplane/upjet/pkg/resource.ExtractResourceID()
	// +kubebuilder:validation:Optional
	SensitiveDataModelID *string `json:"sensitiveDataModelId,omitempty" tf:"sensitive_data_model_id,omitempty"`

	// Reference to a SensitiveDataModel in datasafe to populate sensitiveDataModelId.
	// +kubebuilder:validation:Optional
	SensitiveDataModelIDRef *v1.Reference `json:"sensitiveDataModelIdRef,omitempty" tf:"-"`

	// Selector for a SensitiveDataModel in datasafe to populate sensitiveDataModelId.
	// +kubebuilder:validation:Optional
	SensitiveDataModelIDSelector *v1.Selector `json:"sensitiveDataModelIdSelector,omitempty" tf:"-"`

	// The OCIDs of the sensitive type groups to be used by the discovery job. All the sensitive types present in sensitive type group will be used for discovery.
	// +kubebuilder:validation:Optional
	SensitiveTypeGroupIdsForDiscovery []*string `json:"sensitiveTypeGroupIdsForDiscovery,omitempty" tf:"sensitive_type_group_ids_for_discovery,omitempty"`

	// The OCIDs of the sensitive types to be used by the discovery job. If not provided, the sensitiveTypeIdsForDiscovery attribute of the sensitive data model is used to get the list of sensitive types.
	// +kubebuilder:validation:Optional
	SensitiveTypeIdsForDiscovery []*string `json:"sensitiveTypeIdsForDiscovery,omitempty" tf:"sensitive_type_ids_for_discovery,omitempty"`

	// The data discovery jobs will scan the tables specified here, including both schemas and tables. In the absence  of explicit input, the list of tables is obtained from the tablesForDiscovery attribute of the sensitive data model.
	// +kubebuilder:validation:Optional
	TablesForDiscovery []TablesForDiscoveryParameters `json:"tablesForDiscovery,omitempty" tf:"tables_for_discovery,omitempty"`
}

type TablesForDiscoveryInitParameters struct {

	// This contains the name of the schema.
	SchemaName *string `json:"schemaName,omitempty" tf:"schema_name,omitempty"`

	// This contains an optional list of the table names.
	TableNames []*string `json:"tableNames,omitempty" tf:"table_names,omitempty"`
}

type TablesForDiscoveryObservation struct {

	// This contains the name of the schema.
	SchemaName *string `json:"schemaName,omitempty" tf:"schema_name,omitempty"`

	// This contains an optional list of the table names.
	TableNames []*string `json:"tableNames,omitempty" tf:"table_names,omitempty"`
}

type TablesForDiscoveryParameters struct {

	// This contains the name of the schema.
	// +kubebuilder:validation:Optional
	SchemaName *string `json:"schemaName" tf:"schema_name,omitempty"`

	// This contains an optional list of the table names.
	// +kubebuilder:validation:Optional
	TableNames []*string `json:"tableNames,omitempty" tf:"table_names,omitempty"`
}

// DiscoveryJobSpec defines the desired state of DiscoveryJob
type DiscoveryJobSpec struct {
	v1.ResourceSpec `json:",inline"`
	ForProvider     DiscoveryJobParameters `json:"forProvider"`
	// THIS IS A BETA FIELD. It will be honored
	// unless the Management Policies feature flag is disabled.
	// InitProvider holds the same fields as ForProvider, with the exception
	// of Identifier and other resource reference fields. The fields that are
	// in InitProvider are merged into ForProvider when the resource is created.
	// The same fields are also added to the terraform ignore_changes hook, to
	// avoid updating them after creation. This is useful for fields that are
	// required on creation, but we do not desire to update them after creation,
	// for example because of an external controller is managing them, like an
	// autoscaler.
	InitProvider DiscoveryJobInitParameters `json:"initProvider,omitempty"`
}

// DiscoveryJobStatus defines the observed state of DiscoveryJob.
type DiscoveryJobStatus struct {
	v1.ResourceStatus `json:",inline"`
	AtProvider        DiscoveryJobObservation `json:"atProvider,omitempty"`
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:storageversion

// DiscoveryJob is the Schema for the DiscoveryJobs API. Provides the Discovery Job resource in Oracle Cloud Infrastructure Data Safe service
// +kubebuilder:printcolumn:name="SYNCED",type="string",JSONPath=".status.conditions[?(@.type=='Synced')].status"
// +kubebuilder:printcolumn:name="READY",type="string",JSONPath=".status.conditions[?(@.type=='Ready')].status"
// +kubebuilder:printcolumn:name="EXTERNAL-NAME",type="string",JSONPath=".metadata.annotations.crossplane\\.io/external-name"
// +kubebuilder:printcolumn:name="AGE",type="date",JSONPath=".metadata.creationTimestamp"
// +kubebuilder:resource:scope=Cluster,categories={crossplane,managed,oci}
type DiscoveryJob struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`
	Spec              DiscoveryJobSpec   `json:"spec"`
	Status            DiscoveryJobStatus `json:"status,omitempty"`
}

// +kubebuilder:object:root=true

// DiscoveryJobList contains a list of DiscoveryJobs
type DiscoveryJobList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []DiscoveryJob `json:"items"`
}

// Repository type metadata.
var (
	DiscoveryJob_Kind             = "DiscoveryJob"
	DiscoveryJob_GroupKind        = schema.GroupKind{Group: CRDGroup, Kind: DiscoveryJob_Kind}.String()
	DiscoveryJob_KindAPIVersion   = DiscoveryJob_Kind + "." + CRDGroupVersion.String()
	DiscoveryJob_GroupVersionKind = CRDGroupVersion.WithKind(DiscoveryJob_Kind)
)

func init() {
	SchemeBuilder.Register(&DiscoveryJob{}, &DiscoveryJobList{})
}
