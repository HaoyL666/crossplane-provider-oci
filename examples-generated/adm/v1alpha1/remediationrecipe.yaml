apiVersion: adm.oci.upbound.io/v1alpha1
kind: RemediationRecipe
metadata:
  annotations:
    meta.upbound.io/example-id: adm/v1alpha1/remediationrecipe
  labels:
    testing.upbound.io/example-name: test_remediation_recipe
  name: test-remediation-recipe
spec:
  forProvider:
    compartmentIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    definedTags:
      foo-namespace.bar-key: value
    detectConfiguration:
    - exclusions: ${var.remediation_recipe_detect_configuration_exclusions}
      maxPermissibleCvssV2Score: ${var.remediation_recipe_detect_configuration_max_permissible_cvss_v2score}
      maxPermissibleCvssV3Score: ${var.remediation_recipe_detect_configuration_max_permissible_cvss_v3score}
      maxPermissibleSeverity: ${var.remediation_recipe_detect_configuration_max_permissible_severity}
      upgradePolicy: ${var.remediation_recipe_detect_configuration_upgrade_policy}
    displayName: ${var.remediation_recipe_display_name}
    freeformTags:
      bar-key: value
    isRunTriggeredOnKbChange: ${var.remediation_recipe_is_run_triggered_on_kb_change}
    knowledgeBaseIdSelector:
      matchLabels:
        testing.upbound.io/example-name: test_knowledge_base
    networkConfiguration:
    - nsgIds: ${var.remediation_recipe_network_configuration_nsg_ids}
      subnetIdSelector:
        matchLabels:
          testing.upbound.io/example-name: test_subnet
    scmConfiguration:
    - branch: ${var.remediation_recipe_scm_configuration_branch}
      buildFileLocation: ${var.remediation_recipe_scm_configuration_build_file_location}
      externalScmType: ${var.remediation_recipe_scm_configuration_external_scm_type}
      isAutomergeEnabled: ${var.remediation_recipe_scm_configuration_is_automerge_enabled}
      ociCodeRepositoryIdSelector:
        matchLabels:
          testing.upbound.io/example-name: test_repository
      patSecretIdSelector:
        matchLabels:
          testing.upbound.io/example-name: test_secret
      repositoryUrl: ${var.remediation_recipe_scm_configuration_repository_url}
      scmType: ${var.remediation_recipe_scm_configuration_scm_type}
      username: ${var.remediation_recipe_scm_configuration_username}
    verifyConfiguration:
    - additionalParameters: ${var.remediation_recipe_verify_configuration_additional_parameters}
      buildServiceType: ${var.remediation_recipe_verify_configuration_build_service_type}
      jenkinsUrl: ${var.remediation_recipe_verify_configuration_jenkins_url}
      jobNameSelector:
        matchLabels:
          testing.upbound.io/example-name: test_job
      patSecretIdSelector:
        matchLabels:
          testing.upbound.io/example-name: test_secret
      pipelineIdSelector:
        matchLabels:
          testing.upbound.io/example-name: test_pipeline
      repositoryUrl: ${var.remediation_recipe_verify_configuration_repository_url}
      triggerSecretIdSelector:
        matchLabels:
          testing.upbound.io/example-name: test_secret
      username: ${var.remediation_recipe_verify_configuration_username}
      workflowName: ${var.remediation_recipe_verify_configuration_workflow_name}
