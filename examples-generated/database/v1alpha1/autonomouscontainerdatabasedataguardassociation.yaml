apiVersion: database.oci.upbound.io/v1alpha1
kind: AutonomousContainerDatabaseDataguardAssociation
metadata:
  annotations:
    meta.upbound.io/example-id: database/v1alpha1/autonomouscontainerdatabasedataguardassociation
  labels:
    testing.upbound.io/example-name: test_autonomous_container_database_dataguard_association
  name: test-autonomous-container-database-dataguard-association
spec:
  forProvider:
    autonomousContainerDatabaseIdSelector:
      matchLabels:
        testing.upbound.io/example-name: test_autonomous_container_database
    fastStartFailOverLagLimitInSeconds: ${var.autonomous_container_database_dataguard_association_fast_start_fail_over_lag_limit_in_seconds}
    isAutomaticFailoverEnabled: ${var.autonomous_container_database_dataguard_association_is_automatic_failover_enabled}
    peerAutonomousContainerDatabaseBackupConfig:
    - backupDestinationDetails:
      - backupRetentionPolicyOnTerminate: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_backup_retention_policy_on_terminate}
        dbrsPolicyIdSelector:
          matchLabels:
            testing.upbound.io/example-name: test_policy
        id: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_id}
        internetProxy: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_internet_proxy}
        isRemote: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_is_remote}
        isRetentionLockEnabled: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_is_retention_lock_enabled}
        remoteRegion: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_remote_region}
        type: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_type}
        vpcPasswordSecretRef:
          key: example-key
          name: example-secret
          namespace: upbound-system
        vpcUser: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_backup_destination_details_vpc_user}
      recoveryWindowInDays: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_backup_config_recovery_window_in_days}
    peerAutonomousContainerDatabaseCompartmentIdSelector:
      matchLabels:
        testing.upbound.io/example-name: test_compartment
    peerAutonomousContainerDatabaseDisplayName: ${var.autonomous_container_database_dataguard_association_peer_autonomous_container_database_display_name}
    peerAutonomousVmClusterIdSelector:
      matchLabels:
        testing.upbound.io/example-name: test_autonomous_vm_cluster
    peerCloudAutonomousVmClusterIdSelector:
      matchLabels:
        testing.upbound.io/example-name: test_cloud_autonomous_vm_cluster
    peerDbUniqueName: ${var.autonomous_container_database_dataguard_association_peer_db_unique_name}
    protectionMode: ${var.autonomous_container_database_dataguard_association_protection_mode}
    standbyMaintenanceBufferInDays: ${var.autonomous_container_database_dataguard_association_standby_maintenance_buffer_in_days}
