apiVersion: operatoraccesscontrol.oci.upbound.io/v1alpha1
kind: OperatorControlAssignment
metadata:
  annotations:
    meta.upbound.io/example-id: operatoraccesscontrol/v1alpha1/operatorcontrolassignment
  labels:
    testing.upbound.io/example-name: test_operator_control_assignment
  name: test-operator-control-assignment
spec:
  forProvider:
    comment: ${var.operator_control_assignment_comment}
    compartmentIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    isAutoApproveDuringMaintenance: ${var.operator_control_assignment_is_auto_approve_during_maintenance}
    isEnforcedAlways: ${var.operator_control_assignment_is_enforced_always}
    isHypervisorLogForwarded: ${var.operator_control_assignment_is_hypervisor_log_forwarded}
    isLogForwarded: ${var.operator_control_assignment_is_log_forwarded}
    operatorControlIdSelector:
      matchLabels:
        testing.upbound.io/example-name: test_operator_control
    remoteSyslogServerAddress: ${var.operator_control_assignment_remote_syslog_server_address}
    remoteSyslogServerCaCert: ${var.operator_control_assignment_remote_syslog_server_ca_cert}
    remoteSyslogServerPort: ${var.operator_control_assignment_remote_syslog_server_port}
    resourceCompartmentId: ${var.compartment_id}
    resourceId: ocid1.exadatainfrastructure.test..${random_string.random_suffix.result}
    resourceName: ${var.operator_control_assignment_resource_name}
    resourceType: ${var.operator_control_assignment_resource_type}

---

apiVersion: operatoraccesscontrol.oci.upbound.io/v1alpha1
kind: OperatorControl
metadata:
  annotations:
    meta.upbound.io/example-id: operatoraccesscontrol/v1alpha1/operatorcontrolassignment
  labels:
    testing.upbound.io/example-name: test_operator_control
  name: test-operator-control
spec:
  forProvider:
    approverGroupsList:
    - use_iam_policy
    approversList: ${var.operator_control_approvers_list}
    compartmentIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    description: ${var.operator_control_description}
    emailIdList: ${var.operator_control_email_id_list}
    isFullyPreApproved: ${var.operator_control_is_fully_pre_approved}
    operatorControlName: tfexample-${random_string.random_suffix.result}
    preApprovedOpActionList: ${var.operator_control_pre_approved_op_action_list}
    resourceType: ${var.operator_control_resource_type}
    systemMessage: ${var.operator_control_system_message}
