apiVersion: meteringcomputation.oci.upbound.io/v1alpha1
kind: Usage
metadata:
  annotations:
    meta.upbound.io/example-id: meteringcomputation/v1alpha1/usage
  labels:
    testing.upbound.io/example-name: test_usage
  name: test-usage
spec:
  forProvider:
    compartmentDepth: 1
    filter: "{\n        \"operator\": \"AND\",\n        \"dimensions\": [],\n        \"tags\":
      [],\n        \"filters\": [\n            {\n\t\t\t\t\"operator\": \"OR\",\n
      \               \"dimensions\": [\n\t\t\t\t    {\n                        \"key\":
      \"compartmentName\",\n                        \"value\": \"${var.dimensions_value}\"\n\t\t\t\t\t}\n
      \               ],\n                \"filters\": [],\n                \"tags\":
      []\n\t\t    }\n        ]\n}\n"
    forecast:
    - forecastType: ${var.usage_forecast_forecast_type}
      timeForecastEnded: ${var.usage_forecast_time_forecast_ended}
      timeForecastStarted: ${var.usage_forecast_time_forecast_started}
    granularity: DAILY
    groupBy:
    - service
    queryType: COST
    tenantId: ${var.tenancy_ocid}
    timeUsageEnded: ${var.time_usage_ended}
    timeUsageStarted: ${var.time_usage_started}
