apiVersion: identitydomains.oci.upbound.io/v1alpha1
kind: IdentitySetting
metadata:
  annotations:
    meta.upbound.io/example-id: identitydomains/v1alpha1/identitysetting
  labels:
    testing.upbound.io/example-name: test_identity_setting
  name: test-identity-setting
spec:
  forProvider:
    attributeSets:
    - all
    attributes: ""
    authorization: ${var.identity_setting_authorization}
    emitLockedMessageWhenUserIsLocked: ${var.identity_setting_emit_locked_message_when_user_is_locked}
    externalId: externalId
    idcsEndpoint: ${data.oci_identity_domain.test_domain.url}
    identitySettingId: ${var.identity_setting_id}
    myProfile:
    - allowEndUsersToChangeTheirPassword: true
      allowEndUsersToLinkTheirSupportAccount: true
      allowEndUsersToManageTheirCapabilities: true
      allowEndUsersToUpdateTheirSecuritySettings: true
    posixGid:
    - manualAssignmentEndsAt: ${var.identity_setting_posix_gid_manual_assignment_ends_at}
      manualAssignmentStartsFrom: ${var.identity_setting_posix_gid_manual_assignment_starts_from}
    posixUid:
    - manualAssignmentEndsAt: ${var.identity_setting_posix_uid_manual_assignment_ends_at}
      manualAssignmentStartsFrom: ${var.identity_setting_posix_uid_manual_assignment_starts_from}
    primaryEmailRequired: ${var.identity_setting_primary_email_required}
    schemas:
    - urn:ietf:params:scim:schemas:oracle:idcs:IdentitySettings
    tags:
    - key: ${var.identity_setting_tags_key}
      value: ${var.identity_setting_tags_value}
    tokens:
    - expiresAfter: "10"
      type: emailVerification
    - expiresAfter: "120"
      type: passwordReset
    - expiresAfter: "2500"
      type: createUser
    userAllowedToSetRecoveryEmail: true
