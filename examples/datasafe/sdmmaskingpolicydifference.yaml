apiVersion: datasafe.oci.upbound.io/v1alpha1
kind: SdmMaskingPolicyDifference
metadata:
  annotations:
    meta.upbound.io/example-id: datasafe/v1alpha1/sdmmaskingpolicydifference
  labels:
    testing.upbound.io/example-name: test_sdm_masking_policy_difference
  name: test-sdm-masking-policy-difference
spec:
  forProvider:
    compartmentIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    maskingPolicyIdSelector:
      matchLabels:
        testing.upbound.io/example-name: test_masking_policy

---

apiVersion: datasafe.oci.upbound.io/v1alpha1
kind: MaskingPolicy
metadata:
  annotations:
    meta.upbound.io/example-id: datasafe/v1alpha1/sdmmaskingpolicydifference
  labels:
    testing.upbound.io/example-name: test_masking_policy
  name: test-masking-policy
spec:
  forProvider:
    columnSource:
    - columnSource: ${var.masking_policy_column_source_column_source}
      sensitiveDataModelId: ${oci_data_safe_sensitive_data_model.test_sensitive_data_model.id}
    compartmentIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    description: ${var.masking_policy_description}
    displayName: ${var.masking_policy_display_name}

---

apiVersion: datasafe.oci.upbound.io/v1alpha1
kind: SensitiveDataModel
metadata:
  annotations:
    meta.upbound.io/example-id: datasafe/v1alpha1/sdmmaskingpolicydifference
  labels:
    testing.upbound.io/example-name: test_sensitive_data_model
  name: test-sensitive-data-model
spec:
  forProvider:
    compartmentIdSelector:
      matchLabels:
        testing.upbound.io/example-name: example
    displayName: ${var.sensitive_data_model_display_name}
    schemasForDiscovery: ${var.sensitive_data_model_schemas_for_discovery}
    sensitiveTypeIdsForDiscovery: ${var.sensitive_data_model_sensitive_type_ids_for_discovery}
    targetId: ${var.data_safe_target_ocid}
